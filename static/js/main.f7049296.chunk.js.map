{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ImageGallery/ImageGallery.js","components/ImagesInfo/ImagesInfo.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","request","handleRequestChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","styles","searchbar","searchForm","this","type","button","buttonLabel","input","name","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","imageData","largeImageURL","tags","src","alt","image","ButtonLoadMore","addPage","classNames","Button","ButtonPosition","onClick","ImageGallery","images","map","img","id","Status","ImageInfo","status","fetchFromAPI","page","url","axios","get","then","prevState","data","hits","catch","prevProps","prevRequest","nextRequest","prevPage","nextPage","resetPage","length","window","scrollTo","top","document","documentElement","scrollHeight","behavior","margin","color","height","width","timeout","modalRoot","getElementById","Modal","handleKeyDown","e","code","onClose","handleBackDrop","target","addEventListener","removeEventListener","createPortal","Overlay","App","picture","showModal","handleFormSubmit","setPicture","nodeName","currentSrc","toogleModal","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f7049296.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1VdVU\",\"image\":\"ImageGalleryItem_image__3X4Tg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__2gLtI\",\"ButtonPosition\":\"ButtonLoadMore_ButtonPosition__1iShR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ZAql\",\"Modal\":\"Modal_Modal__3I8C0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1kBii\"};","import React, { Component } from \"react\";\nimport styles from \"./Searchbar.module.css\";\nimport { toast } from \"react-toastify\";\nimport propTypes from \"prop-types\";\n\nexport default class Searchbar extends Component {\n  state = {\n    request: \"\",\n  };\n\n  static propTypes = {\n    onSubmit: propTypes.func.isRequired,\n  };\n\n  handleRequestChange = (event) => {\n    this.setState({ request: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.request.trim() === \"\") {\n      toast.error(\"Enter your request\");\n      return;\n    }\n    this.props.onSubmit(this.state.request);\n    this.setState({ request: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.button}>\n            <span className={styles.buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.input}\n            name=\"request\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.request}\n            onChange={this.handleRequestChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import styles from \"./ImageGalleryItem.module.css\";\nimport propTypes from \"prop-types\";\n\nconst ImageGalleryItem = ({ imageData }) => {\n  const { largeImageURL, tags } = imageData;\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img src={largeImageURL} alt={tags} className={styles.image} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imageData: propTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import styles from \"./ButtonLoadMore.module.css\";\nimport classNames from \"classnames\";\nimport propTypes from \"prop-types\";\n\nconst ButtonLoadMore = ({ addPage }) => {\n  return (\n    <button\n      type=\"button\"\n      className={classNames(styles.Button, styles.ButtonPosition)}\n      onClick={addPage}\n    >\n      Load more\n    </button>\n  );\n};\n\nButtonLoadMore.propTypes = {\n  addPage: propTypes.func.isRequired,\n};\n\nexport default ButtonLoadMore;\n","import styles from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport ButtonLoadMore from \"../ButtonLoadMore/ButtonLoadMore\";\nimport propTypes from \"prop-types\";\n\nconst ImageGallery = ({ images, addPage }) => {\n  return (\n    <div>\n      <ul className={styles.ImageGallery}>\n        {images.map((img) => (\n          <ImageGalleryItem key={img.id} imageData={img}></ImageGalleryItem>\n        ))}\n      </ul>\n      <ButtonLoadMore addPage={addPage}></ButtonLoadMore>\n    </div>\n  );\n};\n\nImageGallery.propTypes = {\n  addPage: propTypes.func.isRequired,\n  images: propTypes.arrayOf(propTypes.object.isRequired),\n};\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport axios from \"axios\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport propTypes from \"prop-types\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nexport default class ImageInfo extends Component {\n  state = {\n    request: null,\n    images: [],\n    error: null,\n    status: Status.IDLE,\n  };\n\n  static propTypes = {\n    addPage: propTypes.func.isRequired,\n    resetPage: propTypes.func.isRequired,\n    page: propTypes.number.isRequired,\n    request: propTypes.string.isRequired,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevRequest = prevProps.request;\n    const nextRequest = this.props.request;\n    const prevPage = prevProps.page;\n    const nextPage = this.props.page;\n\n    if (prevRequest !== nextRequest) {\n      this.setState({ status: Status.PENDING });\n      this.fetchFromAPI();\n      this.props.resetPage();\n    }\n\n    if (prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n      this.fetchFromAPI();\n    }\n\n    if (this.state.images.length !== prevState.images.length) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchFromAPI = () => {\n    const request = this.props.request;\n    const page = this.props.page;\n    const key = \"18616543-61f088c3928fc4bac834774e6\";\n    const url = `https://pixabay.com/api/?q=${request}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n    axios\n      .get(url)\n      .then((images) => {\n        if (page > 1) {\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...images.data.hits],\n          }));\n        }\n        if (page === 1) {\n          this.setState({ images: images.data.hits });\n        }\n        this.setState({ status: Status.RESOLVED });\n      })\n      .catch((error) => this.setState({ error, status: Status.REJECTED }));\n  };\n\n  render() {\n    const { images, error, status } = this.state;\n    if (status === \"idle\") {\n      return null;\n    }\n\n    if (status === \"pending\") {\n      return (\n        <div className=\"Loader\">\n          <Loader\n            margin=\"0 auto\"\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000}\n          />\n        </div>\n      );\n    }\n\n    if (status === \"rejected\") {\n      return <div>{error}</div>;\n    }\n\n    if (status === \"resolved\") {\n      return <ImageGallery images={images} addPage={this.props.addPage} />;\n    }\n  }\n}\n","import styles from \"./Modal.module.css\";\nimport { createPortal } from \"react-dom\";\nimport { Component } from \"react\";\nimport propTypes from \"prop-types\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: propTypes.func.isRequired,\n    image: propTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackDrop = (e) => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackDrop}>\n        <div className={styles.Modal}>\n          <img src={this.props.image} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImagesInfo from \"./components/ImagesInfo/ImagesInfo\";\nimport Modal from \"./components/Modal/Modal\";\n\nexport default class App extends Component {\n  state = {\n    request: \"\",\n    images: [],\n    picture: \"\",\n    page: 1,\n    showModal: false,\n  };\n\n  handleFormSubmit = (request) => {\n    this.setState({ request });\n  };\n\n  setPicture = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return;\n    }\n    this.setState({ picture: e.target.currentSrc });\n    this.toogleModal();\n  };\n\n  toogleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  addPage = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  resetPage = () => {\n    this.setState({ page: 1 });\n  };\n\n  render() {\n    return (\n      <div onClick={this.setPicture} className=\"App\">\n        {this.state.showModal && (\n          <Modal image={this.state.picture} onClose={this.toogleModal}></Modal>\n        )}\n        <Searchbar onSubmit={this.handleFormSubmit}></Searchbar>\n        <ImagesInfo\n          request={this.state.request}\n          page={this.state.page}\n          addPage={this.addPage}\n          resetPage={this.resetPage}\n        />\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3IRaq\",\"searchForm\":\"Searchbar_searchForm__lAjDZ\",\"button\":\"Searchbar_button__EamGv\",\"buttonLabel\":\"Searchbar_buttonLabel__2vyy4\",\"input\":\"Searchbar_input__17IaD\"};"],"sourceRoot":""}