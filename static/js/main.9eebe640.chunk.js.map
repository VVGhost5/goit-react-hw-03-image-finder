{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ButtonLoadMore/ButtonLoadMore.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","services/ImageFinderAPI.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ButtonLoadMore/ButtonLoadMore.js","components/ImageGallery/ImageGallery.js","components/ImagesInfo/ImagesInfo.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","request","handleRequestChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","styles","searchbar","searchForm","this","type","button","buttonLabel","input","name","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","imageData","largeImageURL","tags","src","alt","image","ButtonLoadMore","addPage","classNames","Button","ButtonPosition","onClick","ImageGallery","images","map","img","id","Status","ImageInfo","status","windowScroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","fetchFromAPI","ImageFinderAPI","prevState","hits","catch","prevProps","prevRequest","nextRequest","prevPage","nextPage","resetPage","margin","color","height","width","timeout","modalRoot","getElementById","Modal","handleKeyDown","e","code","onClose","handleBackDrop","target","addEventListener","removeEventListener","createPortal","Overlay","App","picture","showModal","handleFormSubmit","setPicture","nodeName","currentSrc","toogleModal","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.9eebe640.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1VdVU\",\"image\":\"ImageGalleryItem_image__3X4Tg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"ButtonLoadMore_Button__2gLtI\",\"ButtonPosition\":\"ButtonLoadMore_ButtonPosition__1iShR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1ZAql\",\"Modal\":\"Modal_Modal__3I8C0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1kBii\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport propTypes from \"prop-types\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    request: \"\",\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: propTypes.func.isRequired,\r\n  };\r\n\r\n  handleRequestChange = (event) => {\r\n    this.setState({ request: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.request.trim() === \"\") {\r\n      toast.error(\"Enter your request\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.request);\r\n    this.setState({ request: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <span className={styles.buttonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            name=\"request\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.request}\r\n            onChange={this.handleRequestChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","function fetchImages(request, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${request}&page=${page}&key=18616543-61f088c3928fc4bac834774e6&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(new Error(`The request ${request} wasn't found`));\r\n  });\r\n}\r\n\r\nconst api = {\r\n  fetchImages,\r\n};\r\n\r\nexport default api;\r\n","import styles from \"./ImageGalleryItem.module.css\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ imageData }) => {\r\n  const { largeImageURL, tags } = imageData;\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img src={largeImageURL} alt={tags} className={styles.image} />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  imageData: propTypes.object.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import styles from \"./ButtonLoadMore.module.css\";\r\nimport classNames from \"classnames\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst ButtonLoadMore = ({ addPage }) => {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={classNames(styles.Button, styles.ButtonPosition)}\r\n      onClick={addPage}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButtonLoadMore.propTypes = {\r\n  addPage: propTypes.func.isRequired,\r\n};\r\n\r\nexport default ButtonLoadMore;\r\n","import styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport ButtonLoadMore from \"../ButtonLoadMore/ButtonLoadMore\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ images, addPage }) => {\r\n  return (\r\n    <div>\r\n      <ul className={styles.ImageGallery}>\r\n        {images.map((img) => (\r\n          <ImageGalleryItem key={img.id} imageData={img}></ImageGalleryItem>\r\n        ))}\r\n      </ul>\r\n      <ButtonLoadMore addPage={addPage}></ButtonLoadMore>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  addPage: propTypes.func.isRequired,\r\n  images: propTypes.arrayOf(propTypes.object.isRequired),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport ImageFinderAPI from \"../../services/ImageFinderAPI\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\n\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst Status = {\r\n  IDLE: \"idle\",\r\n  PENDING: \"pending\",\r\n  RESOLVED: \"resolved\",\r\n  REJECTED: \"rejected\",\r\n};\r\n\r\nexport default class ImageInfo extends Component {\r\n  state = {\r\n    request: null,\r\n    images: [],\r\n    error: null,\r\n    status: Status.IDLE,\r\n  };\r\n\r\n  static propTypes = {\r\n    addPage: propTypes.func.isRequired,\r\n    resetPage: propTypes.func.isRequired,\r\n    page: propTypes.number.isRequired,\r\n    request: propTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevRequest = prevProps.request;\r\n    const nextRequest = this.props.request;\r\n    const prevPage = prevProps.page;\r\n    const nextPage = this.props.page;\r\n\r\n    if (prevRequest !== nextRequest) {\r\n      this.setState({ status: Status.PENDING });\r\n      this.fetchFromAPI();\r\n      this.props.resetPage();\r\n    }\r\n\r\n    if (prevPage !== nextPage) {\r\n      this.setState({ status: Status.PENDING });\r\n      this.fetchFromAPI();\r\n    }\r\n  }\r\n\r\n  windowScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  fetchFromAPI = () => {\r\n    ImageFinderAPI.fetchImages(this.props.request, this.props.page)\r\n      .then((images) => {\r\n        if (this.props.page > 1) {\r\n          this.setState((prevState) => ({\r\n            images: [...prevState.images, ...images.hits],\r\n          }));\r\n          this.windowScroll();\r\n        }\r\n        if (this.props.page === 1) {\r\n          this.setState({ images: images.hits });\r\n        }\r\n        this.setState({ status: Status.RESOLVED });\r\n      })\r\n      .catch((error) => this.setState({ error, status: Status.REJECTED }));\r\n  };\r\n\r\n  render() {\r\n    const { images, error, status } = this.state;\r\n    if (status === \"idle\") {\r\n      return null;\r\n    }\r\n\r\n    if (status === \"pending\") {\r\n      return (\r\n        <div className=\"Loader\">\r\n          <Loader\r\n            margin=\"0 auto\"\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (status === \"rejected\") {\r\n      return <div>{error}</div>;\r\n    }\r\n\r\n    if (status === \"resolved\") {\r\n      return <ImageGallery images={images} addPage={this.props.addPage} />;\r\n    }\r\n  }\r\n}\r\n","import styles from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\nimport { Component } from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: propTypes.func.isRequired,\r\n    image: propTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackDrop = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackDrop}>\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.image} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Searchbar from \"./components/Searchbar/Searchbar\";\r\nimport ImagesInfo from \"./components/ImagesInfo/ImagesInfo\";\r\nimport Modal from \"./components/Modal/Modal\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    request: \"\",\r\n    images: [],\r\n    picture: \"\",\r\n    page: 1,\r\n    showModal: false,\r\n  };\r\n\r\n  handleFormSubmit = (request) => {\r\n    this.setState({ request });\r\n  };\r\n\r\n  setPicture = (e) => {\r\n    if (e.target.nodeName !== \"IMG\") {\r\n      return;\r\n    }\r\n    this.setState({ picture: e.target.currentSrc });\r\n    this.toogleModal();\r\n  };\r\n\r\n  toogleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  addPage = () => {\r\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\r\n  };\r\n\r\n  resetPage = () => {\r\n    this.setState({ page: 1 });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div onClick={this.setPicture} className=\"App\">\r\n        {this.state.showModal && (\r\n          <Modal image={this.state.picture} onClose={this.toogleModal}></Modal>\r\n        )}\r\n        <Searchbar onSubmit={this.handleFormSubmit}></Searchbar>\r\n        <ImagesInfo\r\n          request={this.state.request}\r\n          page={this.state.page}\r\n          addPage={this.addPage}\r\n          resetPage={this.resetPage}\r\n        ></ImagesInfo>\r\n        <ToastContainer autoClose={3000} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3IRaq\",\"searchForm\":\"Searchbar_searchForm__lAjDZ\",\"button\":\"Searchbar_button__EamGv\",\"buttonLabel\":\"Searchbar_buttonLabel__2vyy4\",\"input\":\"Searchbar_input__17IaD\"};"],"sourceRoot":""}